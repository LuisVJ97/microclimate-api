# Microclimate API

## Overview

The Microclimate API is a RESTful service designed to manage microclimate data. It allows users to create and manage microclimates, ensuring that each entry adheres to specific business rules and validation criteria.

## Features

- Create a new microclimate.
- Validate input data to prevent duplicates and ensure data integrity.
- Use of value objects for email addresses and climate IDs.
- Implemented using Java 22, Spring Boot 3, and Spring Data JPA.

## Business Rules

1. No duplicate microclimates are allowed with the same `climateId`, `climatePlace`, `climateCountry`, and `climateContinent`.
2. The value of `climateContinent` must be an integer between 1 and 5 and is mandatory.
3. The `Continent` must match one of the predefined values in the enumeration.
4. Each microclimate must have the following attributes:
    - `id` (Long, autogenerated, primary key)
    - `climateId` (Long, mandatory, non-empty)
    - `registerEmailAddress` (String, mandatory, max 50 characters)
    - `climatePlace` (String, mandatory, max 50 characters)
    - `climateCountry` (String, mandatory, max 250 characters)
    - `climateContinent` (Enumeration, numeric, mandatory)
    - `temperature` (Long, mandatory, non-empty)
    - `climateDateAt` (Date, mandatory, non-empty)

## Setup

### Prerequisites

- Java 22
- Spring Boot 3
- MySQL Database
- Maven or Gradle for dependency management

### Installation

1. Clone the repository:
   ```bash
   git clone https://github.com/LuisVJ97/microclimate-api.git
   cd microclimate-api
2. Configure your MySQL database:

-  Create a database named "microclimate"


## API Endpoints

The API will be accessible at http://localhost:8080/api/v1/microclimates.

### Create a New Microclimate
- Endpoint: /api/v1/microclimates/{climateId}
- Method: POST
- Request Body:
    ```json
    {
  "registerEmailAddress": "test@example.com",
  "climatePlace": "Los Angeles",
  "climateCountry": "USA",
  "climateContinent": 1,
  "temperature": 75,
  "climateDateAt": "2024-11-12T02:58:35.879Z"
  }
    ```
### Response Body:
    ```json
     {
      "id": 1,
      "climateId": 12345,
      "registerEmailAddress": {
      "email": "example@example.com"
     },
      "climatePlace": "Los Angeles",
      "climateCountry": "USA",
      "climateContinent": "AMERICAN",
      "temperature": 75,
      "climateDateAt": "2024-11-12T02:58:35.879+00:00"
     } 
    ```
### Response Codes:

  - 201 Created: Microclimate created successfully,
  -  400 Bad Request: Invalid input.
  -  409 Conflict: Duplicate microclimate entry.

## Documentation
The API is documented using OpenAPI and can be accessed via Swagger UI at /swagger-ui.html.

## Author

- Luis Alfonso Villegas Jipa - u201717523
    
  